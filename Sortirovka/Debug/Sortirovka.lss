
Sortirovka.elf:     file format elf32-avr

Sections:
Idx Name          Size      VMA       LMA       File off  Algn
  0 .data         00000006  00800100  00000af6  00000b8a  2**0
                  CONTENTS, ALLOC, LOAD, DATA
  1 .text         00000af6  00000000  00000000  00000094  2**1
                  CONTENTS, ALLOC, LOAD, READONLY, CODE
  2 .bss          000000d4  00800106  00800106  00000b90  2**0
                  ALLOC
  3 .comment      00000030  00000000  00000000  00000b90  2**0
                  CONTENTS, READONLY
  4 .debug_aranges 00000110  00000000  00000000  00000bc0  2**0
                  CONTENTS, READONLY, DEBUGGING
  5 .debug_info   00000aae  00000000  00000000  00000cd0  2**0
                  CONTENTS, READONLY, DEBUGGING
  6 .debug_abbrev 000005c2  00000000  00000000  0000177e  2**0
                  CONTENTS, READONLY, DEBUGGING
  7 .debug_line   00000784  00000000  00000000  00001d40  2**0
                  CONTENTS, READONLY, DEBUGGING
  8 .debug_frame  000002c0  00000000  00000000  000024c4  2**2
                  CONTENTS, READONLY, DEBUGGING
  9 .debug_str    0000037e  00000000  00000000  00002784  2**0
                  CONTENTS, READONLY, DEBUGGING
 10 .debug_loc    0000094a  00000000  00000000  00002b02  2**0
                  CONTENTS, READONLY, DEBUGGING
 11 .debug_ranges 000000c0  00000000  00000000  0000344c  2**0
                  CONTENTS, READONLY, DEBUGGING

Disassembly of section .text:

00000000 <__vectors>:
   0:	0c 94 fd 00 	jmp	0x1fa	; 0x1fa <__ctors_end>
   4:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
   8:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
   c:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  10:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  14:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  18:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  1c:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  20:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  24:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  28:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  2c:	0c 94 dd 04 	jmp	0x9ba	; 0x9ba <__vector_11>
  30:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  34:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  38:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  3c:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  40:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  44:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  48:	0c 94 1c 01 	jmp	0x238	; 0x238 <__vector_18>
  4c:	0c 94 85 01 	jmp	0x30a	; 0x30a <__vector_19>
  50:	0c 94 67 01 	jmp	0x2ce	; 0x2ce <__vector_20>
  54:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  58:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  5c:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  60:	0c 94 d4 01 	jmp	0x3a8	; 0x3a8 <__vector_24>
  64:	0c 94 1a 01 	jmp	0x234	; 0x234 <__bad_interrupt>
  68:	05 02       	muls	r16, r21
  6a:	4a 04       	cpc	r4, r10
  6c:	4a 04       	cpc	r4, r10
  6e:	4a 04       	cpc	r4, r10
  70:	4a 04       	cpc	r4, r10
  72:	4a 04       	cpc	r4, r10
  74:	4a 04       	cpc	r4, r10
  76:	4a 04       	cpc	r4, r10
  78:	16 02       	muls	r17, r22
  7a:	4a 04       	cpc	r4, r10
  7c:	4a 04       	cpc	r4, r10
  7e:	4a 04       	cpc	r4, r10
  80:	4a 04       	cpc	r4, r10
  82:	4a 04       	cpc	r4, r10
  84:	4a 04       	cpc	r4, r10
  86:	4a 04       	cpc	r4, r10
  88:	35 02       	muls	r19, r21
  8a:	4a 04       	cpc	r4, r10
  8c:	4a 04       	cpc	r4, r10
  8e:	4a 04       	cpc	r4, r10
  90:	4a 04       	cpc	r4, r10
  92:	4a 04       	cpc	r4, r10
  94:	4a 04       	cpc	r4, r10
  96:	4a 04       	cpc	r4, r10
  98:	55 02       	muls	r21, r21
  9a:	4a 04       	cpc	r4, r10
  9c:	4a 04       	cpc	r4, r10
  9e:	4a 04       	cpc	r4, r10
  a0:	4a 04       	cpc	r4, r10
  a2:	4a 04       	cpc	r4, r10
  a4:	4a 04       	cpc	r4, r10
  a6:	4a 04       	cpc	r4, r10
  a8:	95 02       	muls	r25, r21
  aa:	4a 04       	cpc	r4, r10
  ac:	4a 04       	cpc	r4, r10
  ae:	4a 04       	cpc	r4, r10
  b0:	4a 04       	cpc	r4, r10
  b2:	4a 04       	cpc	r4, r10
  b4:	4a 04       	cpc	r4, r10
  b6:	4a 04       	cpc	r4, r10
  b8:	a6 02       	muls	r26, r22
  ba:	4a 04       	cpc	r4, r10
  bc:	4a 04       	cpc	r4, r10
  be:	4a 04       	cpc	r4, r10
  c0:	4a 04       	cpc	r4, r10
  c2:	4a 04       	cpc	r4, r10
  c4:	4a 04       	cpc	r4, r10
  c6:	4a 04       	cpc	r4, r10
  c8:	04 03       	mulsu	r16, r20
  ca:	4a 04       	cpc	r4, r10
  cc:	4a 04       	cpc	r4, r10
  ce:	4a 04       	cpc	r4, r10
  d0:	4a 04       	cpc	r4, r10
  d2:	4a 04       	cpc	r4, r10
  d4:	4a 04       	cpc	r4, r10
  d6:	4a 04       	cpc	r4, r10
  d8:	15 03       	mulsu	r17, r21
  da:	4a 04       	cpc	r4, r10
  dc:	4a 04       	cpc	r4, r10
  de:	4a 04       	cpc	r4, r10
  e0:	4a 04       	cpc	r4, r10
  e2:	4a 04       	cpc	r4, r10
  e4:	4a 04       	cpc	r4, r10
  e6:	4a 04       	cpc	r4, r10
  e8:	24 03       	mulsu	r18, r20
  ea:	4a 04       	cpc	r4, r10
  ec:	4a 04       	cpc	r4, r10
  ee:	4a 04       	cpc	r4, r10
  f0:	4a 04       	cpc	r4, r10
  f2:	4a 04       	cpc	r4, r10
  f4:	4a 04       	cpc	r4, r10
  f6:	4a 04       	cpc	r4, r10
  f8:	3e 03       	fmul	r19, r22
  fa:	4a 04       	cpc	r4, r10
  fc:	4a 04       	cpc	r4, r10
  fe:	4a 04       	cpc	r4, r10
 100:	4a 04       	cpc	r4, r10
 102:	4a 04       	cpc	r4, r10
 104:	4a 04       	cpc	r4, r10
 106:	4a 04       	cpc	r4, r10
 108:	4f 03       	fmul	r20, r23
 10a:	4a 04       	cpc	r4, r10
 10c:	4a 04       	cpc	r4, r10
 10e:	4a 04       	cpc	r4, r10
 110:	4a 04       	cpc	r4, r10
 112:	4a 04       	cpc	r4, r10
 114:	4a 04       	cpc	r4, r10
 116:	4a 04       	cpc	r4, r10
 118:	7a 03       	fmul	r23, r18
 11a:	4a 04       	cpc	r4, r10
 11c:	4a 04       	cpc	r4, r10
 11e:	4a 04       	cpc	r4, r10
 120:	4a 04       	cpc	r4, r10
 122:	4a 04       	cpc	r4, r10
 124:	4a 04       	cpc	r4, r10
 126:	4a 04       	cpc	r4, r10
 128:	9b 03       	fmulsu	r17, r19
 12a:	4a 04       	cpc	r4, r10
 12c:	4a 04       	cpc	r4, r10
 12e:	4a 04       	cpc	r4, r10
 130:	4a 04       	cpc	r4, r10
 132:	4a 04       	cpc	r4, r10
 134:	4a 04       	cpc	r4, r10
 136:	4a 04       	cpc	r4, r10
 138:	92 03       	fmuls	r17, r18
 13a:	4a 04       	cpc	r4, r10
 13c:	4a 04       	cpc	r4, r10
 13e:	4a 04       	cpc	r4, r10
 140:	4a 04       	cpc	r4, r10
 142:	4a 04       	cpc	r4, r10
 144:	4a 04       	cpc	r4, r10
 146:	4a 04       	cpc	r4, r10
 148:	9b 03       	fmulsu	r17, r19
 14a:	4a 04       	cpc	r4, r10
 14c:	4a 04       	cpc	r4, r10
 14e:	4a 04       	cpc	r4, r10
 150:	4a 04       	cpc	r4, r10
 152:	4a 04       	cpc	r4, r10
 154:	4a 04       	cpc	r4, r10
 156:	4a 04       	cpc	r4, r10
 158:	92 03       	fmuls	r17, r18
 15a:	4a 04       	cpc	r4, r10
 15c:	4a 04       	cpc	r4, r10
 15e:	4a 04       	cpc	r4, r10
 160:	4a 04       	cpc	r4, r10
 162:	4a 04       	cpc	r4, r10
 164:	4a 04       	cpc	r4, r10
 166:	4a 04       	cpc	r4, r10
 168:	a8 03       	fmulsu	r18, r16
 16a:	4a 04       	cpc	r4, r10
 16c:	4a 04       	cpc	r4, r10
 16e:	4a 04       	cpc	r4, r10
 170:	4a 04       	cpc	r4, r10
 172:	4a 04       	cpc	r4, r10
 174:	4a 04       	cpc	r4, r10
 176:	4a 04       	cpc	r4, r10
 178:	c9 03       	fmulsu	r20, r17
 17a:	4a 04       	cpc	r4, r10
 17c:	4a 04       	cpc	r4, r10
 17e:	4a 04       	cpc	r4, r10
 180:	4a 04       	cpc	r4, r10
 182:	4a 04       	cpc	r4, r10
 184:	4a 04       	cpc	r4, r10
 186:	4a 04       	cpc	r4, r10
 188:	a8 03       	fmulsu	r18, r16
 18a:	4a 04       	cpc	r4, r10
 18c:	4a 04       	cpc	r4, r10
 18e:	4a 04       	cpc	r4, r10
 190:	4a 04       	cpc	r4, r10
 192:	4a 04       	cpc	r4, r10
 194:	4a 04       	cpc	r4, r10
 196:	4a 04       	cpc	r4, r10
 198:	c9 03       	fmulsu	r20, r17
 19a:	4a 04       	cpc	r4, r10
 19c:	4a 04       	cpc	r4, r10
 19e:	4a 04       	cpc	r4, r10
 1a0:	4a 04       	cpc	r4, r10
 1a2:	4a 04       	cpc	r4, r10
 1a4:	4a 04       	cpc	r4, r10
 1a6:	4a 04       	cpc	r4, r10
 1a8:	eb 03       	fmulsu	r22, r19
 1aa:	4a 04       	cpc	r4, r10
 1ac:	4a 04       	cpc	r4, r10
 1ae:	4a 04       	cpc	r4, r10
 1b0:	4a 04       	cpc	r4, r10
 1b2:	4a 04       	cpc	r4, r10
 1b4:	4a 04       	cpc	r4, r10
 1b6:	4a 04       	cpc	r4, r10
 1b8:	fa 03       	fmulsu	r23, r18
 1ba:	4a 04       	cpc	r4, r10
 1bc:	4a 04       	cpc	r4, r10
 1be:	4a 04       	cpc	r4, r10
 1c0:	4a 04       	cpc	r4, r10
 1c2:	4a 04       	cpc	r4, r10
 1c4:	4a 04       	cpc	r4, r10
 1c6:	4a 04       	cpc	r4, r10
 1c8:	f1 03       	fmuls	r23, r17
 1ca:	4a 04       	cpc	r4, r10
 1cc:	4a 04       	cpc	r4, r10
 1ce:	4a 04       	cpc	r4, r10
 1d0:	4a 04       	cpc	r4, r10
 1d2:	4a 04       	cpc	r4, r10
 1d4:	4a 04       	cpc	r4, r10
 1d6:	4a 04       	cpc	r4, r10
 1d8:	0e 04       	cpc	r0, r14
 1da:	4a 04       	cpc	r4, r10
 1dc:	4a 04       	cpc	r4, r10
 1de:	4a 04       	cpc	r4, r10
 1e0:	4a 04       	cpc	r4, r10
 1e2:	4a 04       	cpc	r4, r10
 1e4:	4a 04       	cpc	r4, r10
 1e6:	4a 04       	cpc	r4, r10
 1e8:	2f 04       	cpc	r2, r15
 1ea:	4a 04       	cpc	r4, r10
 1ec:	4a 04       	cpc	r4, r10
 1ee:	4a 04       	cpc	r4, r10
 1f0:	4a 04       	cpc	r4, r10
 1f2:	4a 04       	cpc	r4, r10
 1f4:	4a 04       	cpc	r4, r10
 1f6:	4a 04       	cpc	r4, r10
 1f8:	2f 04       	cpc	r2, r15

000001fa <__ctors_end>:
 1fa:	11 24       	eor	r1, r1
 1fc:	1f be       	out	0x3f, r1	; 63
 1fe:	cf ef       	ldi	r28, 0xFF	; 255
 200:	d8 e0       	ldi	r29, 0x08	; 8
 202:	de bf       	out	0x3e, r29	; 62
 204:	cd bf       	out	0x3d, r28	; 61

00000206 <__do_copy_data>:
 206:	11 e0       	ldi	r17, 0x01	; 1
 208:	a0 e0       	ldi	r26, 0x00	; 0
 20a:	b1 e0       	ldi	r27, 0x01	; 1
 20c:	e6 ef       	ldi	r30, 0xF6	; 246
 20e:	fa e0       	ldi	r31, 0x0A	; 10
 210:	02 c0       	rjmp	.+4      	; 0x216 <__do_copy_data+0x10>
 212:	05 90       	lpm	r0, Z+
 214:	0d 92       	st	X+, r0
 216:	a6 30       	cpi	r26, 0x06	; 6
 218:	b1 07       	cpc	r27, r17
 21a:	d9 f7       	brne	.-10     	; 0x212 <__do_copy_data+0xc>

0000021c <__do_clear_bss>:
 21c:	21 e0       	ldi	r18, 0x01	; 1
 21e:	a6 e0       	ldi	r26, 0x06	; 6
 220:	b1 e0       	ldi	r27, 0x01	; 1
 222:	01 c0       	rjmp	.+2      	; 0x226 <.do_clear_bss_start>

00000224 <.do_clear_bss_loop>:
 224:	1d 92       	st	X+, r1

00000226 <.do_clear_bss_start>:
 226:	aa 3d       	cpi	r26, 0xDA	; 218
 228:	b2 07       	cpc	r27, r18
 22a:	e1 f7       	brne	.-8      	; 0x224 <.do_clear_bss_loop>
 22c:	0e 94 b7 01 	call	0x36e	; 0x36e <main>
 230:	0c 94 79 05 	jmp	0xaf2	; 0xaf2 <_exit>

00000234 <__bad_interrupt>:
 234:	0c 94 00 00 	jmp	0	; 0x0 <__vectors>

00000238 <__vector_18>:
	UCSR0B = _BV(RXEN0) | _BV(TXEN0) | (1<<RXCIE0)| (0<<TXCIE0) | (0<<UDRIE0);   /* Разрешаем RX and TX, RXIE - байт принят, TXIE - байт отправлен, URDIE -буффер отправки пуст */
}

//Обработчик прерывания по окончанию приёма байта
ISR( USART_RX_vect )
{
 238:	1f 92       	push	r1
 23a:	0f 92       	push	r0
 23c:	0f b6       	in	r0, 0x3f	; 63
 23e:	0f 92       	push	r0
 240:	11 24       	eor	r1, r1
 242:	2f 93       	push	r18
 244:	3f 93       	push	r19
 246:	4f 93       	push	r20
 248:	5f 93       	push	r21
 24a:	6f 93       	push	r22
 24c:	7f 93       	push	r23
 24e:	8f 93       	push	r24
 250:	9f 93       	push	r25
 252:	af 93       	push	r26
 254:	bf 93       	push	r27
 256:	ef 93       	push	r30
 258:	ff 93       	push	r31
	o22_header_t *header = (o22_header_t *)rx_buff;
	unsigned char rxbyte = UDR0;
 25a:	40 91 c6 00 	lds	r20, 0x00C6
	
	if( rx_ptr < rx_datalen-1 ) {
 25e:	20 91 bf 01 	lds	r18, 0x01BF
 262:	80 91 cb 01 	lds	r24, 0x01CB
 266:	30 e0       	ldi	r19, 0x00	; 0
 268:	90 e0       	ldi	r25, 0x00	; 0
 26a:	01 97       	sbiw	r24, 0x01	; 1
 26c:	28 17       	cp	r18, r24
 26e:	39 07       	cpc	r19, r25
 270:	7c f4       	brge	.+30     	; 0x290 <__vector_18+0x58>
		rx_buff[rx_ptr++] = rxbyte;
 272:	e0 91 bf 01 	lds	r30, 0x01BF
 276:	81 e0       	ldi	r24, 0x01	; 1
 278:	8e 0f       	add	r24, r30
 27a:	80 93 bf 01 	sts	0x01BF, r24
 27e:	f0 e0       	ldi	r31, 0x00	; 0
 280:	e0 59       	subi	r30, 0x90	; 144
 282:	fe 4f       	sbci	r31, 0xFE	; 254
 284:	40 83       	st	Z, r20
		rx_datalen++;
 286:	80 91 cb 01 	lds	r24, 0x01CB
 28a:	8f 5f       	subi	r24, 0xFF	; 255
 28c:	80 93 cb 01 	sts	0x01CB, r24
	}
	
	if (rx_datalen >= header->packet_size + 2 ) {
 290:	20 91 cb 01 	lds	r18, 0x01CB
 294:	30 e0       	ldi	r19, 0x00	; 0
 296:	80 91 71 01 	lds	r24, 0x0171
 29a:	90 e0       	ldi	r25, 0x00	; 0
 29c:	02 96       	adiw	r24, 0x02	; 2
 29e:	28 17       	cp	r18, r24
 2a0:	39 07       	cpc	r19, r25
 2a2:	24 f0       	brlt	.+8      	; 0x2ac <__vector_18+0x74>
		SetTask(new_packet);
 2a4:	8c ec       	ldi	r24, 0xCC	; 204
 2a6:	91 e0       	ldi	r25, 0x01	; 1
 2a8:	0e 94 8a 04 	call	0x914	; 0x914 <SetTask>
	}
}
 2ac:	ff 91       	pop	r31
 2ae:	ef 91       	pop	r30
 2b0:	bf 91       	pop	r27
 2b2:	af 91       	pop	r26
 2b4:	9f 91       	pop	r25
 2b6:	8f 91       	pop	r24
 2b8:	7f 91       	pop	r23
 2ba:	6f 91       	pop	r22
 2bc:	5f 91       	pop	r21
 2be:	4f 91       	pop	r20
 2c0:	3f 91       	pop	r19
 2c2:	2f 91       	pop	r18
 2c4:	0f 90       	pop	r0
 2c6:	0f be       	out	0x3f, r0	; 63
 2c8:	0f 90       	pop	r0
 2ca:	1f 90       	pop	r1
 2cc:	18 95       	reti

000002ce <__vector_20>:

// прерывание по опустошению сдвигового регистра передатчика
ISR( USART_TX_vect) {
 2ce:	1f 92       	push	r1
 2d0:	0f 92       	push	r0
 2d2:	0f b6       	in	r0, 0x3f	; 63
 2d4:	0f 92       	push	r0
 2d6:	11 24       	eor	r1, r1
 2d8:	8f 93       	push	r24
 2da:	ef 93       	push	r30
 2dc:	ff 93       	push	r31
	if (UCSR0A & _BV(UDRE0)) {						// есди буфер передатчика пуст, то передавать больше нечего
 2de:	80 91 c0 00 	lds	r24, 0x00C0
 2e2:	85 ff       	sbrs	r24, 5
 2e4:	0a c0       	rjmp	.+20     	; 0x2fa <__vector_20+0x2c>
		PORTB |= _BV(pin_RS485_RW);					// переключаем драйвер RS485 на прием
 2e6:	2c 9a       	sbi	0x05, 4	; 5
		UCSR0B &= ~(_BV(UDRIE0) | _BV(TXCIE0) );	// запрещаем любые прерывания от передатчика
 2e8:	e1 ec       	ldi	r30, 0xC1	; 193
 2ea:	f0 e0       	ldi	r31, 0x00	; 0
 2ec:	80 81       	ld	r24, Z
 2ee:	8f 79       	andi	r24, 0x9F	; 159
 2f0:	80 83       	st	Z, r24
		rx_datalen = rx_ptr = 0;					// и устанавливаем на начало буфера приема (теперь должен прийти ответный пакет)
 2f2:	10 92 bf 01 	sts	0x01BF, r1
 2f6:	10 92 cb 01 	sts	0x01CB, r1
	}
}
 2fa:	ff 91       	pop	r31
 2fc:	ef 91       	pop	r30
 2fe:	8f 91       	pop	r24
 300:	0f 90       	pop	r0
 302:	0f be       	out	0x3f, r0	; 63
 304:	0f 90       	pop	r0
 306:	1f 90       	pop	r1
 308:	18 95       	reti

0000030a <__vector_19>:

// прерывание по опустошению буфера передатчика (байт ушел в сдвиговый регистр передатчика)
ISR( USART_UDRE_vect )
{
 30a:	1f 92       	push	r1
 30c:	0f 92       	push	r0
 30e:	0f b6       	in	r0, 0x3f	; 63
 310:	0f 92       	push	r0
 312:	11 24       	eor	r1, r1
 314:	2f 93       	push	r18
 316:	3f 93       	push	r19
 318:	8f 93       	push	r24
 31a:	9f 93       	push	r25
 31c:	ef 93       	push	r30
 31e:	ff 93       	push	r31
	unsigned char txbyte;
	if( tx_ptr < tx_datalen-1 ) {					// если буфер не пуст, то передаем следующий байт
 320:	20 91 be 01 	lds	r18, 0x01BE
 324:	80 91 ca 01 	lds	r24, 0x01CA
 328:	30 e0       	ldi	r19, 0x00	; 0
 32a:	90 e0       	ldi	r25, 0x00	; 0
 32c:	01 97       	sbiw	r24, 0x01	; 1
 32e:	28 17       	cp	r18, r24
 330:	39 07       	cpc	r19, r25
 332:	6c f4       	brge	.+26     	; 0x34e <__vector_19+0x44>
		txbyte = tx_buff[tx_ptr++];
 334:	e0 91 be 01 	lds	r30, 0x01BE
 338:	81 e0       	ldi	r24, 0x01	; 1
 33a:	8e 0f       	add	r24, r30
 33c:	80 93 be 01 	sts	0x01BE, r24
 340:	f0 e0       	ldi	r31, 0x00	; 0
 342:	e0 54       	subi	r30, 0x40	; 64
 344:	fe 4f       	sbci	r31, 0xFE	; 254
 346:	80 81       	ld	r24, Z
		UDR0 = txbyte;
 348:	80 93 c6 00 	sts	0x00C6, r24
 34c:	05 c0       	rjmp	.+10     	; 0x358 <__vector_19+0x4e>
	}
	else {
		UCSR0B &= ~_BV(UDRIE0);					//если данных в fifo больше нет то запрещаем это прерывание
 34e:	e1 ec       	ldi	r30, 0xC1	; 193
 350:	f0 e0       	ldi	r31, 0x00	; 0
 352:	80 81       	ld	r24, Z
 354:	8f 7d       	andi	r24, 0xDF	; 223
 356:	80 83       	st	Z, r24
	}
}
 358:	ff 91       	pop	r31
 35a:	ef 91       	pop	r30
 35c:	9f 91       	pop	r25
 35e:	8f 91       	pop	r24
 360:	3f 91       	pop	r19
 362:	2f 91       	pop	r18
 364:	0f 90       	pop	r0
 366:	0f be       	out	0x3f, r0	; 63
 368:	0f 90       	pop	r0
 36a:	1f 90       	pop	r1
 36c:	18 95       	reti

0000036e <main>:



int main(void)
{
	wdt_enable(WDTO_4S);
 36e:	28 e2       	ldi	r18, 0x28	; 40
 370:	88 e1       	ldi	r24, 0x18	; 24
 372:	90 e0       	ldi	r25, 0x00	; 0
 374:	0f b6       	in	r0, 0x3f	; 63
 376:	f8 94       	cli
 378:	a8 95       	wdr
 37a:	80 93 60 00 	sts	0x0060, r24
 37e:	0f be       	out	0x3f, r0	; 63
 380:	20 93 60 00 	sts	0x0060, r18
	
//	display_init();
	
	InitAll();
 384:	0e 94 56 05 	call	0xaac	; 0xaac <InitAll>
//	uart_init();
//	i2c_init();


	InitRTOS();
 388:	0e 94 67 04 	call	0x8ce	; 0x8ce <InitRTOS>
	RunRTOS();	// разрешает прерывания
 38c:	0e 94 44 05 	call	0xa88	; 0xa88 <RunRTOS>
//	SetTask(display_init);
//	SetTask(i2c_test);

while(1)
{
	wdt_reset();
 390:	a8 95       	wdr
	TaskManager();
 392:	0e 94 b1 04 	call	0x962	; 0x962 <TaskManager>
 396:	fc cf       	rjmp	.-8      	; 0x390 <main+0x22>

00000398 <new_packet>:
}

void new_packet(){
	o22_header_t *header = (o22_header_t *)rx_buff;

	switch (header->cmd) {
 398:	80 91 72 01 	lds	r24, 0x0172
 39c:	81 11       	cpse	r24, r1
 39e:	03 c0       	rjmp	.+6      	; 0x3a6 <new_packet+0xe>
		case CMD_COMMON_INFO:
			header->address=1;
 3a0:	81 e0       	ldi	r24, 0x01	; 1
 3a2:	80 93 70 01 	sts	0x0170, r24
 3a6:	08 95       	ret

000003a8 <__vector_24>:
 3a8:	1f 92       	push	r1
 3aa:	0f 92       	push	r0
 3ac:	00 90 5f 00 	lds	r0, 0x005F
 3b0:	0f 92       	push	r0
 3b2:	11 24       	eor	r1, r1
 3b4:	2f 93       	push	r18
 3b6:	3f 93       	push	r19
 3b8:	4f 93       	push	r20
 3ba:	5f 93       	push	r21
 3bc:	6f 93       	push	r22
 3be:	7f 93       	push	r23
 3c0:	8f 93       	push	r24
 3c2:	9f 93       	push	r25
 3c4:	af 93       	push	r26
 3c6:	bf 93       	push	r27
 3c8:	ef 93       	push	r30
 3ca:	ff 93       	push	r31
 3cc:	cf 93       	push	r28
 3ce:	df 93       	push	r29
 3d0:	cd b7       	in	r28, 0x3d	; 61
 3d2:	de b7       	in	r29, 0x3e	; 62
 3d4:	89 eb       	ldi	r24, 0xB9	; 185
 3d6:	90 e0       	ldi	r25, 0x00	; 0
 3d8:	fc 01       	movw	r30, r24
 3da:	80 81       	ld	r24, Z
 3dc:	88 2f       	mov	r24, r24
 3de:	90 e0       	ldi	r25, 0x00	; 0
 3e0:	88 7f       	andi	r24, 0xF8	; 248
 3e2:	99 27       	eor	r25, r25
 3e4:	aa 27       	eor	r26, r26
 3e6:	97 fd       	sbrc	r25, 7
 3e8:	a0 95       	com	r26
 3ea:	ba 2f       	mov	r27, r26
 3ec:	40 e0       	ldi	r20, 0x00	; 0
 3ee:	50 e0       	ldi	r21, 0x00	; 0
 3f0:	28 ec       	ldi	r18, 0xC8	; 200
 3f2:	30 e0       	ldi	r19, 0x00	; 0
 3f4:	84 1b       	sub	r24, r20
 3f6:	95 0b       	sbc	r25, r21
 3f8:	28 17       	cp	r18, r24
 3fa:	39 07       	cpc	r19, r25
 3fc:	08 f4       	brcc	.+2      	; 0x400 <__vector_24+0x58>
 3fe:	4a c2       	rjmp	.+1172   	; 0x894 <__vector_24+0x4ec>
 400:	8c 5c       	subi	r24, 0xCC	; 204
 402:	9f 4f       	sbci	r25, 0xFF	; 255
 404:	fc 01       	movw	r30, r24
 406:	0c 94 73 05 	jmp	0xae6	; 0xae6 <__tablejump2__>
 40a:	80 91 d9 01 	lds	r24, 0x01D9
 40e:	81 60       	ori	r24, 0x01	; 1
 410:	80 93 d9 01 	sts	0x01D9, r24
 414:	8c eb       	ldi	r24, 0xBC	; 188
 416:	90 e0       	ldi	r25, 0x00	; 0
 418:	25 ed       	ldi	r18, 0xD5	; 213
 41a:	fc 01       	movw	r30, r24
 41c:	20 83       	st	Z, r18
 41e:	80 91 04 01 	lds	r24, 0x0104
 422:	90 91 05 01 	lds	r25, 0x0105
 426:	fc 01       	movw	r30, r24
 428:	09 95       	icall
 42a:	35 c2       	rjmp	.+1130   	; 0x896 <__vector_24+0x4ee>
 42c:	80 91 d9 01 	lds	r24, 0x01D9
 430:	88 2f       	mov	r24, r24
 432:	90 e0       	ldi	r25, 0x00	; 0
 434:	8c 70       	andi	r24, 0x0C	; 12
 436:	99 27       	eor	r25, r25
 438:	00 97       	sbiw	r24, 0x00	; 0
 43a:	31 f4       	brne	.+12     	; 0x448 <__vector_24+0xa0>
 43c:	80 91 d0 01 	lds	r24, 0x01D0
 440:	81 60       	ori	r24, 0x01	; 1
 442:	80 93 d0 01 	sts	0x01D0, r24
 446:	05 c0       	rjmp	.+10     	; 0x452 <__vector_24+0xaa>
 448:	80 91 d0 01 	lds	r24, 0x01D0
 44c:	8e 7f       	andi	r24, 0xFE	; 254
 44e:	80 93 d0 01 	sts	0x01D0, r24
 452:	8b eb       	ldi	r24, 0xBB	; 187
 454:	90 e0       	ldi	r25, 0x00	; 0
 456:	20 91 d0 01 	lds	r18, 0x01D0
 45a:	fc 01       	movw	r30, r24
 45c:	20 83       	st	Z, r18
 45e:	8c eb       	ldi	r24, 0xBC	; 188
 460:	90 e0       	ldi	r25, 0x00	; 0
 462:	25 ec       	ldi	r18, 0xC5	; 197
 464:	fc 01       	movw	r30, r24
 466:	20 83       	st	Z, r18
 468:	16 c2       	rjmp	.+1068   	; 0x896 <__vector_24+0x4ee>
 46a:	80 91 d9 01 	lds	r24, 0x01D9
 46e:	88 2f       	mov	r24, r24
 470:	90 e0       	ldi	r25, 0x00	; 0
 472:	8c 70       	andi	r24, 0x0C	; 12
 474:	99 27       	eor	r25, r25
 476:	88 30       	cpi	r24, 0x08	; 8
 478:	91 05       	cpc	r25, r1
 47a:	31 f4       	brne	.+12     	; 0x488 <__vector_24+0xe0>
 47c:	80 91 d0 01 	lds	r24, 0x01D0
 480:	81 60       	ori	r24, 0x01	; 1
 482:	80 93 d0 01 	sts	0x01D0, r24
 486:	05 c0       	rjmp	.+10     	; 0x492 <__vector_24+0xea>
 488:	80 91 d0 01 	lds	r24, 0x01D0
 48c:	8e 7f       	andi	r24, 0xFE	; 254
 48e:	80 93 d0 01 	sts	0x01D0, r24
 492:	8b eb       	ldi	r24, 0xBB	; 187
 494:	90 e0       	ldi	r25, 0x00	; 0
 496:	20 91 d0 01 	lds	r18, 0x01D0
 49a:	fc 01       	movw	r30, r24
 49c:	20 83       	st	Z, r18
 49e:	8c eb       	ldi	r24, 0xBC	; 188
 4a0:	90 e0       	ldi	r25, 0x00	; 0
 4a2:	25 ec       	ldi	r18, 0xC5	; 197
 4a4:	fc 01       	movw	r30, r24
 4a6:	20 83       	st	Z, r18
 4a8:	f6 c1       	rjmp	.+1004   	; 0x896 <__vector_24+0x4ee>
 4aa:	80 91 d9 01 	lds	r24, 0x01D9
 4ae:	88 2f       	mov	r24, r24
 4b0:	90 e0       	ldi	r25, 0x00	; 0
 4b2:	8c 70       	andi	r24, 0x0C	; 12
 4b4:	99 27       	eor	r25, r25
 4b6:	84 30       	cpi	r24, 0x04	; 4
 4b8:	91 05       	cpc	r25, r1
 4ba:	b1 f4       	brne	.+44     	; 0x4e8 <__vector_24+0x140>
 4bc:	8b eb       	ldi	r24, 0xBB	; 187
 4be:	90 e0       	ldi	r25, 0x00	; 0
 4c0:	20 91 cc 01 	lds	r18, 0x01CC
 4c4:	22 2f       	mov	r18, r18
 4c6:	30 e0       	ldi	r19, 0x00	; 0
 4c8:	23 53       	subi	r18, 0x33	; 51
 4ca:	3e 4f       	sbci	r19, 0xFE	; 254
 4cc:	f9 01       	movw	r30, r18
 4ce:	20 81       	ld	r18, Z
 4d0:	fc 01       	movw	r30, r24
 4d2:	20 83       	st	Z, r18
 4d4:	80 91 cc 01 	lds	r24, 0x01CC
 4d8:	8f 5f       	subi	r24, 0xFF	; 255
 4da:	80 93 cc 01 	sts	0x01CC, r24
 4de:	8c eb       	ldi	r24, 0xBC	; 188
 4e0:	90 e0       	ldi	r25, 0x00	; 0
 4e2:	25 ec       	ldi	r18, 0xC5	; 197
 4e4:	fc 01       	movw	r30, r24
 4e6:	20 83       	st	Z, r18
 4e8:	80 91 d9 01 	lds	r24, 0x01D9
 4ec:	88 2f       	mov	r24, r24
 4ee:	90 e0       	ldi	r25, 0x00	; 0
 4f0:	8c 70       	andi	r24, 0x0C	; 12
 4f2:	99 27       	eor	r25, r25
 4f4:	88 30       	cpi	r24, 0x08	; 8
 4f6:	91 05       	cpc	r25, r1
 4f8:	b9 f4       	brne	.+46     	; 0x528 <__vector_24+0x180>
 4fa:	8b eb       	ldi	r24, 0xBB	; 187
 4fc:	90 e0       	ldi	r25, 0x00	; 0
 4fe:	20 91 d5 01 	lds	r18, 0x01D5
 502:	22 2f       	mov	r18, r18
 504:	30 e0       	ldi	r19, 0x00	; 0
 506:	2d 52       	subi	r18, 0x2D	; 45
 508:	3e 4f       	sbci	r19, 0xFE	; 254
 50a:	f9 01       	movw	r30, r18
 50c:	20 81       	ld	r18, Z
 50e:	fc 01       	movw	r30, r24
 510:	20 83       	st	Z, r18
 512:	80 91 d5 01 	lds	r24, 0x01D5
 516:	8f 5f       	subi	r24, 0xFF	; 255
 518:	80 93 d5 01 	sts	0x01D5, r24
 51c:	8c eb       	ldi	r24, 0xBC	; 188
 51e:	90 e0       	ldi	r25, 0x00	; 0
 520:	25 ec       	ldi	r18, 0xC5	; 197
 522:	fc 01       	movw	r30, r24
 524:	20 83       	st	Z, r18
 526:	b7 c1       	rjmp	.+878    	; 0x896 <__vector_24+0x4ee>
 528:	b6 c1       	rjmp	.+876    	; 0x896 <__vector_24+0x4ee>
 52a:	80 91 d9 01 	lds	r24, 0x01D9
 52e:	80 61       	ori	r24, 0x10	; 16
 530:	80 93 d9 01 	sts	0x01D9, r24
 534:	8c eb       	ldi	r24, 0xBC	; 188
 536:	90 e0       	ldi	r25, 0x00	; 0
 538:	25 ed       	ldi	r18, 0xD5	; 213
 53a:	fc 01       	movw	r30, r24
 53c:	20 83       	st	Z, r18
 53e:	80 91 04 01 	lds	r24, 0x0104
 542:	90 91 05 01 	lds	r25, 0x0105
 546:	fc 01       	movw	r30, r24
 548:	09 95       	icall
 54a:	a5 c1       	rjmp	.+842    	; 0x896 <__vector_24+0x4ee>
 54c:	80 91 d9 01 	lds	r24, 0x01D9
 550:	88 2f       	mov	r24, r24
 552:	90 e0       	ldi	r25, 0x00	; 0
 554:	8c 70       	andi	r24, 0x0C	; 12
 556:	99 27       	eor	r25, r25
 558:	84 30       	cpi	r24, 0x04	; 4
 55a:	91 05       	cpc	r25, r1
 55c:	41 f5       	brne	.+80     	; 0x5ae <__vector_24+0x206>
 55e:	90 91 cc 01 	lds	r25, 0x01CC
 562:	80 91 d6 01 	lds	r24, 0x01D6
 566:	98 17       	cp	r25, r24
 568:	61 f4       	brne	.+24     	; 0x582 <__vector_24+0x1da>
 56a:	8c eb       	ldi	r24, 0xBC	; 188
 56c:	90 e0       	ldi	r25, 0x00	; 0
 56e:	25 ed       	ldi	r18, 0xD5	; 213
 570:	fc 01       	movw	r30, r24
 572:	20 83       	st	Z, r18
 574:	80 91 00 01 	lds	r24, 0x0100
 578:	90 91 01 01 	lds	r25, 0x0101
 57c:	fc 01       	movw	r30, r24
 57e:	09 95       	icall
 580:	16 c0       	rjmp	.+44     	; 0x5ae <__vector_24+0x206>
 582:	8b eb       	ldi	r24, 0xBB	; 187
 584:	90 e0       	ldi	r25, 0x00	; 0
 586:	20 91 cc 01 	lds	r18, 0x01CC
 58a:	22 2f       	mov	r18, r18
 58c:	30 e0       	ldi	r19, 0x00	; 0
 58e:	23 53       	subi	r18, 0x33	; 51
 590:	3e 4f       	sbci	r19, 0xFE	; 254
 592:	f9 01       	movw	r30, r18
 594:	20 81       	ld	r18, Z
 596:	fc 01       	movw	r30, r24
 598:	20 83       	st	Z, r18
 59a:	80 91 cc 01 	lds	r24, 0x01CC
 59e:	8f 5f       	subi	r24, 0xFF	; 255
 5a0:	80 93 cc 01 	sts	0x01CC, r24
 5a4:	8c eb       	ldi	r24, 0xBC	; 188
 5a6:	90 e0       	ldi	r25, 0x00	; 0
 5a8:	25 ec       	ldi	r18, 0xC5	; 197
 5aa:	fc 01       	movw	r30, r24
 5ac:	20 83       	st	Z, r18
 5ae:	80 91 d9 01 	lds	r24, 0x01D9
 5b2:	88 2f       	mov	r24, r24
 5b4:	90 e0       	ldi	r25, 0x00	; 0
 5b6:	8c 70       	andi	r24, 0x0C	; 12
 5b8:	99 27       	eor	r25, r25
 5ba:	88 30       	cpi	r24, 0x08	; 8
 5bc:	91 05       	cpc	r25, r1
 5be:	19 f5       	brne	.+70     	; 0x606 <__vector_24+0x25e>
 5c0:	90 91 d5 01 	lds	r25, 0x01D5
 5c4:	80 91 d2 01 	lds	r24, 0x01D2
 5c8:	98 17       	cp	r25, r24
 5ca:	31 f4       	brne	.+12     	; 0x5d8 <__vector_24+0x230>
 5cc:	8c eb       	ldi	r24, 0xBC	; 188
 5ce:	90 e0       	ldi	r25, 0x00	; 0
 5d0:	25 ee       	ldi	r18, 0xE5	; 229
 5d2:	fc 01       	movw	r30, r24
 5d4:	20 83       	st	Z, r18
 5d6:	17 c0       	rjmp	.+46     	; 0x606 <__vector_24+0x25e>
 5d8:	8b eb       	ldi	r24, 0xBB	; 187
 5da:	90 e0       	ldi	r25, 0x00	; 0
 5dc:	20 91 d5 01 	lds	r18, 0x01D5
 5e0:	22 2f       	mov	r18, r18
 5e2:	30 e0       	ldi	r19, 0x00	; 0
 5e4:	2d 52       	subi	r18, 0x2D	; 45
 5e6:	3e 4f       	sbci	r19, 0xFE	; 254
 5e8:	f9 01       	movw	r30, r18
 5ea:	20 81       	ld	r18, Z
 5ec:	fc 01       	movw	r30, r24
 5ee:	20 83       	st	Z, r18
 5f0:	80 91 d5 01 	lds	r24, 0x01D5
 5f4:	8f 5f       	subi	r24, 0xFF	; 255
 5f6:	80 93 d5 01 	sts	0x01D5, r24
 5fa:	8c eb       	ldi	r24, 0xBC	; 188
 5fc:	90 e0       	ldi	r25, 0x00	; 0
 5fe:	25 ec       	ldi	r18, 0xC5	; 197
 600:	fc 01       	movw	r30, r24
 602:	20 83       	st	Z, r18
 604:	48 c1       	rjmp	.+656    	; 0x896 <__vector_24+0x4ee>
 606:	47 c1       	rjmp	.+654    	; 0x896 <__vector_24+0x4ee>
 608:	80 91 d9 01 	lds	r24, 0x01D9
 60c:	82 60       	ori	r24, 0x02	; 2
 60e:	80 93 d9 01 	sts	0x01D9, r24
 612:	8c eb       	ldi	r24, 0xBC	; 188
 614:	90 e0       	ldi	r25, 0x00	; 0
 616:	25 ed       	ldi	r18, 0xD5	; 213
 618:	fc 01       	movw	r30, r24
 61a:	20 83       	st	Z, r18
 61c:	80 91 00 01 	lds	r24, 0x0100
 620:	90 91 01 01 	lds	r25, 0x0101
 624:	fc 01       	movw	r30, r24
 626:	09 95       	icall
 628:	36 c1       	rjmp	.+620    	; 0x896 <__vector_24+0x4ee>
 62a:	80 91 d9 01 	lds	r24, 0x01D9
 62e:	80 62       	ori	r24, 0x20	; 32
 630:	80 93 d9 01 	sts	0x01D9, r24
 634:	10 92 cc 01 	sts	0x01CC, r1
 638:	10 92 d5 01 	sts	0x01D5, r1
 63c:	8c eb       	ldi	r24, 0xBC	; 188
 63e:	90 e0       	ldi	r25, 0x00	; 0
 640:	25 ee       	ldi	r18, 0xE5	; 229
 642:	fc 01       	movw	r30, r24
 644:	20 83       	st	Z, r18
 646:	27 c1       	rjmp	.+590    	; 0x896 <__vector_24+0x4ee>
 648:	80 91 cc 01 	lds	r24, 0x01CC
 64c:	88 2f       	mov	r24, r24
 64e:	90 e0       	ldi	r25, 0x00	; 0
 650:	9c 01       	movw	r18, r24
 652:	2f 5f       	subi	r18, 0xFF	; 255
 654:	3f 4f       	sbci	r19, 0xFF	; 255
 656:	80 91 d6 01 	lds	r24, 0x01D6
 65a:	88 2f       	mov	r24, r24
 65c:	90 e0       	ldi	r25, 0x00	; 0
 65e:	28 17       	cp	r18, r24
 660:	39 07       	cpc	r19, r25
 662:	31 f4       	brne	.+12     	; 0x670 <__vector_24+0x2c8>
 664:	8c eb       	ldi	r24, 0xBC	; 188
 666:	90 e0       	ldi	r25, 0x00	; 0
 668:	25 e8       	ldi	r18, 0x85	; 133
 66a:	fc 01       	movw	r30, r24
 66c:	20 83       	st	Z, r18
 66e:	13 c1       	rjmp	.+550    	; 0x896 <__vector_24+0x4ee>
 670:	8c eb       	ldi	r24, 0xBC	; 188
 672:	90 e0       	ldi	r25, 0x00	; 0
 674:	25 ec       	ldi	r18, 0xC5	; 197
 676:	fc 01       	movw	r30, r24
 678:	20 83       	st	Z, r18
 67a:	0d c1       	rjmp	.+538    	; 0x896 <__vector_24+0x4ee>
 67c:	80 91 d9 01 	lds	r24, 0x01D9
 680:	80 61       	ori	r24, 0x10	; 16
 682:	80 93 d9 01 	sts	0x01D9, r24
 686:	8c eb       	ldi	r24, 0xBC	; 188
 688:	90 e0       	ldi	r25, 0x00	; 0
 68a:	25 ed       	ldi	r18, 0xD5	; 213
 68c:	fc 01       	movw	r30, r24
 68e:	20 83       	st	Z, r18
 690:	80 91 04 01 	lds	r24, 0x0104
 694:	90 91 05 01 	lds	r25, 0x0105
 698:	fc 01       	movw	r30, r24
 69a:	09 95       	icall
 69c:	fc c0       	rjmp	.+504    	; 0x896 <__vector_24+0x4ee>
 69e:	80 91 cc 01 	lds	r24, 0x01CC
 6a2:	88 2f       	mov	r24, r24
 6a4:	90 e0       	ldi	r25, 0x00	; 0
 6a6:	2b eb       	ldi	r18, 0xBB	; 187
 6a8:	30 e0       	ldi	r19, 0x00	; 0
 6aa:	f9 01       	movw	r30, r18
 6ac:	20 81       	ld	r18, Z
 6ae:	83 53       	subi	r24, 0x33	; 51
 6b0:	9e 4f       	sbci	r25, 0xFE	; 254
 6b2:	fc 01       	movw	r30, r24
 6b4:	20 83       	st	Z, r18
 6b6:	80 91 cc 01 	lds	r24, 0x01CC
 6ba:	8f 5f       	subi	r24, 0xFF	; 255
 6bc:	80 93 cc 01 	sts	0x01CC, r24
 6c0:	80 91 cc 01 	lds	r24, 0x01CC
 6c4:	88 2f       	mov	r24, r24
 6c6:	90 e0       	ldi	r25, 0x00	; 0
 6c8:	9c 01       	movw	r18, r24
 6ca:	2f 5f       	subi	r18, 0xFF	; 255
 6cc:	3f 4f       	sbci	r19, 0xFF	; 255
 6ce:	80 91 d6 01 	lds	r24, 0x01D6
 6d2:	88 2f       	mov	r24, r24
 6d4:	90 e0       	ldi	r25, 0x00	; 0
 6d6:	28 17       	cp	r18, r24
 6d8:	39 07       	cpc	r19, r25
 6da:	31 f4       	brne	.+12     	; 0x6e8 <__vector_24+0x340>
 6dc:	8c eb       	ldi	r24, 0xBC	; 188
 6de:	90 e0       	ldi	r25, 0x00	; 0
 6e0:	25 e8       	ldi	r18, 0x85	; 133
 6e2:	fc 01       	movw	r30, r24
 6e4:	20 83       	st	Z, r18
 6e6:	d7 c0       	rjmp	.+430    	; 0x896 <__vector_24+0x4ee>
 6e8:	8c eb       	ldi	r24, 0xBC	; 188
 6ea:	90 e0       	ldi	r25, 0x00	; 0
 6ec:	25 ec       	ldi	r18, 0xC5	; 197
 6ee:	fc 01       	movw	r30, r24
 6f0:	20 83       	st	Z, r18
 6f2:	d1 c0       	rjmp	.+418    	; 0x896 <__vector_24+0x4ee>
 6f4:	80 91 cc 01 	lds	r24, 0x01CC
 6f8:	88 2f       	mov	r24, r24
 6fa:	90 e0       	ldi	r25, 0x00	; 0
 6fc:	2b eb       	ldi	r18, 0xBB	; 187
 6fe:	30 e0       	ldi	r19, 0x00	; 0
 700:	f9 01       	movw	r30, r18
 702:	20 81       	ld	r18, Z
 704:	83 53       	subi	r24, 0x33	; 51
 706:	9e 4f       	sbci	r25, 0xFE	; 254
 708:	fc 01       	movw	r30, r24
 70a:	20 83       	st	Z, r18
 70c:	8c eb       	ldi	r24, 0xBC	; 188
 70e:	90 e0       	ldi	r25, 0x00	; 0
 710:	25 ed       	ldi	r18, 0xD5	; 213
 712:	fc 01       	movw	r30, r24
 714:	20 83       	st	Z, r18
 716:	80 91 00 01 	lds	r24, 0x0100
 71a:	90 91 01 01 	lds	r25, 0x0101
 71e:	fc 01       	movw	r30, r24
 720:	09 95       	icall
 722:	b9 c0       	rjmp	.+370    	; 0x896 <__vector_24+0x4ee>
 724:	80 91 d9 01 	lds	r24, 0x01D9
 728:	80 6a       	ori	r24, 0xA0	; 160
 72a:	80 93 d9 01 	sts	0x01D9, r24
 72e:	10 92 cc 01 	sts	0x01CC, r1
 732:	10 92 d5 01 	sts	0x01D5, r1
 736:	80 91 d9 01 	lds	r24, 0x01D9
 73a:	80 64       	ori	r24, 0x40	; 64
 73c:	80 93 d9 01 	sts	0x01D9, r24
 740:	10 92 d7 01 	sts	0x01D7, r1
 744:	8c eb       	ldi	r24, 0xBC	; 188
 746:	90 e0       	ldi	r25, 0x00	; 0
 748:	25 e8       	ldi	r18, 0x85	; 133
 74a:	fc 01       	movw	r30, r24
 74c:	20 83       	st	Z, r18
 74e:	a3 c0       	rjmp	.+326    	; 0x896 <__vector_24+0x4ee>
 750:	80 91 d7 01 	lds	r24, 0x01D7
 754:	88 2f       	mov	r24, r24
 756:	90 e0       	ldi	r25, 0x00	; 0
 758:	2b eb       	ldi	r18, 0xBB	; 187
 75a:	30 e0       	ldi	r19, 0x00	; 0
 75c:	f9 01       	movw	r30, r18
 75e:	20 81       	ld	r18, Z
 760:	88 52       	subi	r24, 0x28	; 40
 762:	9e 4f       	sbci	r25, 0xFE	; 254
 764:	fc 01       	movw	r30, r24
 766:	20 83       	st	Z, r18
 768:	80 91 d7 01 	lds	r24, 0x01D7
 76c:	8f 5f       	subi	r24, 0xFF	; 255
 76e:	80 93 d7 01 	sts	0x01D7, r24
 772:	80 91 d7 01 	lds	r24, 0x01D7
 776:	88 23       	and	r24, r24
 778:	31 f4       	brne	.+12     	; 0x786 <__vector_24+0x3de>
 77a:	8c eb       	ldi	r24, 0xBC	; 188
 77c:	90 e0       	ldi	r25, 0x00	; 0
 77e:	25 e8       	ldi	r18, 0x85	; 133
 780:	fc 01       	movw	r30, r24
 782:	20 83       	st	Z, r18
 784:	88 c0       	rjmp	.+272    	; 0x896 <__vector_24+0x4ee>
 786:	8c eb       	ldi	r24, 0xBC	; 188
 788:	90 e0       	ldi	r25, 0x00	; 0
 78a:	25 ec       	ldi	r18, 0xC5	; 197
 78c:	fc 01       	movw	r30, r24
 78e:	20 83       	st	Z, r18
 790:	82 c0       	rjmp	.+260    	; 0x896 <__vector_24+0x4ee>
 792:	80 91 d7 01 	lds	r24, 0x01D7
 796:	88 2f       	mov	r24, r24
 798:	90 e0       	ldi	r25, 0x00	; 0
 79a:	2b eb       	ldi	r18, 0xBB	; 187
 79c:	30 e0       	ldi	r19, 0x00	; 0
 79e:	f9 01       	movw	r30, r18
 7a0:	20 81       	ld	r18, Z
 7a2:	88 52       	subi	r24, 0x28	; 40
 7a4:	9e 4f       	sbci	r25, 0xFE	; 254
 7a6:	fc 01       	movw	r30, r24
 7a8:	20 83       	st	Z, r18
 7aa:	80 91 d9 01 	lds	r24, 0x01D9
 7ae:	88 23       	and	r24, r24
 7b0:	34 f4       	brge	.+12     	; 0x7be <__vector_24+0x416>
 7b2:	8c eb       	ldi	r24, 0xBC	; 188
 7b4:	90 e0       	ldi	r25, 0x00	; 0
 7b6:	25 ee       	ldi	r18, 0xE5	; 229
 7b8:	fc 01       	movw	r30, r24
 7ba:	20 83       	st	Z, r18
 7bc:	05 c0       	rjmp	.+10     	; 0x7c8 <__vector_24+0x420>
 7be:	8c eb       	ldi	r24, 0xBC	; 188
 7c0:	90 e0       	ldi	r25, 0x00	; 0
 7c2:	25 ec       	ldi	r18, 0xC5	; 197
 7c4:	fc 01       	movw	r30, r24
 7c6:	20 83       	st	Z, r18
 7c8:	80 91 02 01 	lds	r24, 0x0102
 7cc:	90 91 03 01 	lds	r25, 0x0103
 7d0:	fc 01       	movw	r30, r24
 7d2:	09 95       	icall
 7d4:	60 c0       	rjmp	.+192    	; 0x896 <__vector_24+0x4ee>
 7d6:	8c eb       	ldi	r24, 0xBC	; 188
 7d8:	90 e0       	ldi	r25, 0x00	; 0
 7da:	25 ec       	ldi	r18, 0xC5	; 197
 7dc:	fc 01       	movw	r30, r24
 7de:	20 83       	st	Z, r18
 7e0:	5a c0       	rjmp	.+180    	; 0x896 <__vector_24+0x4ee>
 7e2:	80 91 d9 01 	lds	r24, 0x01D9
 7e6:	80 6a       	ori	r24, 0xA0	; 160
 7e8:	80 93 d9 01 	sts	0x01D9, r24
 7ec:	10 92 cc 01 	sts	0x01CC, r1
 7f0:	10 92 d5 01 	sts	0x01D5, r1
 7f4:	10 92 d7 01 	sts	0x01D7, r1
 7f8:	8b eb       	ldi	r24, 0xBB	; 187
 7fa:	90 e0       	ldi	r25, 0x00	; 0
 7fc:	20 91 d7 01 	lds	r18, 0x01D7
 800:	22 2f       	mov	r18, r18
 802:	30 e0       	ldi	r19, 0x00	; 0
 804:	2f 52       	subi	r18, 0x2F	; 47
 806:	3e 4f       	sbci	r19, 0xFE	; 254
 808:	f9 01       	movw	r30, r18
 80a:	20 81       	ld	r18, Z
 80c:	fc 01       	movw	r30, r24
 80e:	20 83       	st	Z, r18
 810:	8c eb       	ldi	r24, 0xBC	; 188
 812:	90 e0       	ldi	r25, 0x00	; 0
 814:	25 e8       	ldi	r18, 0x85	; 133
 816:	fc 01       	movw	r30, r24
 818:	20 83       	st	Z, r18
 81a:	3d c0       	rjmp	.+122    	; 0x896 <__vector_24+0x4ee>
 81c:	80 91 d7 01 	lds	r24, 0x01D7
 820:	8f 5f       	subi	r24, 0xFF	; 255
 822:	80 93 d7 01 	sts	0x01D7, r24
 826:	8b eb       	ldi	r24, 0xBB	; 187
 828:	90 e0       	ldi	r25, 0x00	; 0
 82a:	20 91 d7 01 	lds	r18, 0x01D7
 82e:	22 2f       	mov	r18, r18
 830:	30 e0       	ldi	r19, 0x00	; 0
 832:	2f 52       	subi	r18, 0x2F	; 47
 834:	3e 4f       	sbci	r19, 0xFE	; 254
 836:	f9 01       	movw	r30, r18
 838:	20 81       	ld	r18, Z
 83a:	fc 01       	movw	r30, r24
 83c:	20 83       	st	Z, r18
 83e:	80 91 d7 01 	lds	r24, 0x01D7
 842:	88 23       	and	r24, r24
 844:	31 f4       	brne	.+12     	; 0x852 <__vector_24+0x4aa>
 846:	8c eb       	ldi	r24, 0xBC	; 188
 848:	90 e0       	ldi	r25, 0x00	; 0
 84a:	25 e8       	ldi	r18, 0x85	; 133
 84c:	fc 01       	movw	r30, r24
 84e:	20 83       	st	Z, r18
 850:	22 c0       	rjmp	.+68     	; 0x896 <__vector_24+0x4ee>
 852:	8c eb       	ldi	r24, 0xBC	; 188
 854:	90 e0       	ldi	r25, 0x00	; 0
 856:	21 ec       	ldi	r18, 0xC1	; 193
 858:	fc 01       	movw	r30, r24
 85a:	20 83       	st	Z, r18
 85c:	1c c0       	rjmp	.+56     	; 0x896 <__vector_24+0x4ee>
 85e:	80 91 d9 01 	lds	r24, 0x01D9
 862:	88 23       	and	r24, r24
 864:	5c f4       	brge	.+22     	; 0x87c <__vector_24+0x4d4>
 866:	80 91 d9 01 	lds	r24, 0x01D9
 86a:	8f 77       	andi	r24, 0x7F	; 127
 86c:	80 93 d9 01 	sts	0x01D9, r24
 870:	8c eb       	ldi	r24, 0xBC	; 188
 872:	90 e0       	ldi	r25, 0x00	; 0
 874:	25 ee       	ldi	r18, 0xE5	; 229
 876:	fc 01       	movw	r30, r24
 878:	20 83       	st	Z, r18
 87a:	05 c0       	rjmp	.+10     	; 0x886 <__vector_24+0x4de>
 87c:	8c eb       	ldi	r24, 0xBC	; 188
 87e:	90 e0       	ldi	r25, 0x00	; 0
 880:	25 ec       	ldi	r18, 0xC5	; 197
 882:	fc 01       	movw	r30, r24
 884:	20 83       	st	Z, r18
 886:	80 91 02 01 	lds	r24, 0x0102
 88a:	90 91 03 01 	lds	r25, 0x0103
 88e:	fc 01       	movw	r30, r24
 890:	09 95       	icall
 892:	01 c0       	rjmp	.+2      	; 0x896 <__vector_24+0x4ee>
 894:	00 00       	nop
 896:	df 91       	pop	r29
 898:	cf 91       	pop	r28
 89a:	ff 91       	pop	r31
 89c:	ef 91       	pop	r30
 89e:	bf 91       	pop	r27
 8a0:	af 91       	pop	r26
 8a2:	9f 91       	pop	r25
 8a4:	8f 91       	pop	r24
 8a6:	7f 91       	pop	r23
 8a8:	6f 91       	pop	r22
 8aa:	5f 91       	pop	r21
 8ac:	4f 91       	pop	r20
 8ae:	3f 91       	pop	r19
 8b0:	2f 91       	pop	r18
 8b2:	0f 90       	pop	r0
 8b4:	00 92 5f 00 	sts	0x005F, r0
 8b8:	0f 90       	pop	r0
 8ba:	1f 90       	pop	r1
 8bc:	18 95       	reti

000008be <DoNothing>:
 8be:	cf 93       	push	r28
 8c0:	df 93       	push	r29
 8c2:	cd b7       	in	r28, 0x3d	; 61
 8c4:	de b7       	in	r29, 0x3e	; 62
 8c6:	df 91       	pop	r29
 8c8:	cf 91       	pop	r28
 8ca:	08 95       	ret

000008cc <Idle>:
}


//Пустая процедура - простой ядра. 
inline void  Idle(void)
{
 8cc:	08 95       	ret

000008ce <InitRTOS>:
	u16 Time;							// Выдержка в мс
} MainTimer[MainTimerQueueSize+1];	// Очередь таймеров


// RTOS Подготовка. Очистка очередей
inline void InitRTOS(void) {
 8ce:	80 e0       	ldi	r24, 0x00	; 0
 8d0:	90 e0       	ldi	r25, 0x00	; 0
u08	index;

	for(index=0;index!=TaskQueueSize+1;index++)	// Во все позиции записываем Idle
	{
		TaskQueue[index] = Idle;
 8d2:	26 e6       	ldi	r18, 0x66	; 102
 8d4:	34 e0       	ldi	r19, 0x04	; 4
 8d6:	fc 01       	movw	r30, r24
 8d8:	ee 0f       	add	r30, r30
 8da:	ff 1f       	adc	r31, r31
 8dc:	ea 5b       	subi	r30, 0xBA	; 186
 8de:	fe 4f       	sbci	r31, 0xFE	; 254
 8e0:	31 83       	std	Z+1, r19	; 0x01
 8e2:	20 83       	st	Z, r18
 8e4:	01 96       	adiw	r24, 0x01	; 1

// RTOS Подготовка. Очистка очередей
inline void InitRTOS(void) {
u08	index;

	for(index=0;index!=TaskQueueSize+1;index++)	// Во все позиции записываем Idle
 8e6:	85 31       	cpi	r24, 0x15	; 21
 8e8:	91 05       	cpc	r25, r1
 8ea:	a9 f7       	brne	.-22     	; 0x8d6 <InitRTOS+0x8>
 8ec:	80 e0       	ldi	r24, 0x00	; 0
 8ee:	90 e0       	ldi	r25, 0x00	; 0
	}


	for(index=0;index!=MainTimerQueueSize+1;index++) // Обнуляем все таймеры.
	{
		MainTimer[index].GoToTask = Idle;
 8f0:	26 e6       	ldi	r18, 0x66	; 102
 8f2:	34 e0       	ldi	r19, 0x04	; 4
 8f4:	fc 01       	movw	r30, r24
 8f6:	ee 0f       	add	r30, r30
 8f8:	ff 1f       	adc	r31, r31
 8fa:	ee 0f       	add	r30, r30
 8fc:	ff 1f       	adc	r31, r31
 8fe:	ea 5f       	subi	r30, 0xFA	; 250
 900:	fe 4f       	sbci	r31, 0xFE	; 254
 902:	31 83       	std	Z+1, r19	; 0x01
 904:	20 83       	st	Z, r18
		MainTimer[index].Time = 0;
 906:	13 82       	std	Z+3, r1	; 0x03
 908:	12 82       	std	Z+2, r1	; 0x02
 90a:	01 96       	adiw	r24, 0x01	; 1
	{
		TaskQueue[index] = Idle;
	}


	for(index=0;index!=MainTimerQueueSize+1;index++) // Обнуляем все таймеры.
 90c:	80 31       	cpi	r24, 0x10	; 16
 90e:	91 05       	cpc	r25, r1
 910:	89 f7       	brne	.-30     	; 0x8f4 <InitRTOS+0x26>
	{
		MainTimer[index].GoToTask = Idle;
		MainTimer[index].Time = 0;
	}
}
 912:	08 95       	ret

00000914 <SetTask>:
// Отдаваемое значение - код ошибки.
void SetTask(TPTR TS) {
u08		index = 0;
u08		nointerrupted = 0;

	if (STATUS_REG & (1<<Interrupt_Flag))  // Если прерывания разрешены, то запрещаем их.
 914:	0f b6       	in	r0, 0x3f	; 63
 916:	07 fe       	sbrs	r0, 7
 918:	0c c0       	rjmp	.+24     	; 0x932 <SetTask+0x1e>
	{
		Disable_Interrupt
 91a:	f8 94       	cli
		nointerrupted = 1;					// И ставим флаг, что мы не в прерывании. 
 91c:	a1 e0       	ldi	r26, 0x01	; 1
 91e:	0a c0       	rjmp	.+20     	; 0x934 <SetTask+0x20>
 920:	2f 5f       	subi	r18, 0xFF	; 255
 922:	3f 4f       	sbci	r19, 0xFF	; 255
	}

	while(TaskQueue[index]!=Idle) 			// Прочесываем очередь задач на предмет свободной ячейки
	{									// с значением Idle - конец очереди.
		index++;
		if (index==TaskQueueSize+1) 		// Если очередь переполнена то выходим не солоно хлебавши
 924:	25 31       	cpi	r18, 0x15	; 21
 926:	31 05       	cpc	r19, r1
 928:	39 f4       	brne	.+14     	; 0x938 <SetTask+0x24>
		{
			if (nointerrupted)	Enable_Interrupt 	// Если мы не в прерывании, то разрешаем прерывания
 92a:	aa 23       	and	r26, r26
 92c:	c9 f0       	breq	.+50     	; 0x960 <SetTask+0x4c>
 92e:	78 94       	sei
 930:	08 95       	ret

// Функция установки задачи в очередь. Передаваемый параметр - указатель на функцию
// Отдаваемое значение - код ошибки.
void SetTask(TPTR TS) {
u08		index = 0;
u08		nointerrupted = 0;
 932:	a0 e0       	ldi	r26, 0x00	; 0
 934:	20 e0       	ldi	r18, 0x00	; 0
 936:	30 e0       	ldi	r19, 0x00	; 0
	{
		Disable_Interrupt
		nointerrupted = 1;					// И ставим флаг, что мы не в прерывании. 
	}

	while(TaskQueue[index]!=Idle) 			// Прочесываем очередь задач на предмет свободной ячейки
 938:	f9 01       	movw	r30, r18
 93a:	ee 0f       	add	r30, r30
 93c:	ff 1f       	adc	r31, r31
 93e:	ea 5b       	subi	r30, 0xBA	; 186
 940:	fe 4f       	sbci	r31, 0xFE	; 254
 942:	40 81       	ld	r20, Z
 944:	51 81       	ldd	r21, Z+1	; 0x01
 946:	46 56       	subi	r20, 0x66	; 102
 948:	54 40       	sbci	r21, 0x04	; 4
 94a:	51 f7       	brne	.-44     	; 0x920 <SetTask+0xc>
			if (nointerrupted)	Enable_Interrupt 	// Если мы не в прерывании, то разрешаем прерывания
			return;									// Раньше функция возвращала код ошибки - очередь переполнена. Пока убрал.
		}
	}
												// Если нашли свободное место, то
	TaskQueue[index] = TS;							// Записываем в очередь задачу
 94c:	f9 01       	movw	r30, r18
 94e:	ee 0f       	add	r30, r30
 950:	ff 1f       	adc	r31, r31
 952:	ea 5b       	subi	r30, 0xBA	; 186
 954:	fe 4f       	sbci	r31, 0xFE	; 254
 956:	91 83       	std	Z+1, r25	; 0x01
 958:	80 83       	st	Z, r24
	if (nointerrupted) Enable_Interrupt				// И включаем прерывания если не в обработчике прерывания.
 95a:	aa 23       	and	r26, r26
 95c:	09 f0       	breq	.+2      	; 0x960 <SetTask+0x4c>
 95e:	78 94       	sei
 960:	08 95       	ret

00000962 <TaskManager>:

inline void TaskManager(void) {
u08		index=0;
TPTR	GoToTask = Idle;		// Инициализируем переменные

	Disable_Interrupt				// Запрещаем прерывания!!!
 962:	f8 94       	cli
	GoToTask = TaskQueue[0];		// Хватаем первое значение из очереди
 964:	e0 91 46 01 	lds	r30, 0x0146
 968:	f0 91 47 01 	lds	r31, 0x0147

	if (GoToTask==Idle) 			// Если там пусто
 96c:	84 e0       	ldi	r24, 0x04	; 4
 96e:	e6 36       	cpi	r30, 0x66	; 102
 970:	f8 07       	cpc	r31, r24
 972:	11 f4       	brne	.+4      	; 0x978 <TaskManager+0x16>
	{
		Enable_Interrupt			// Разрешаем прерывания
 974:	78 94       	sei
 976:	08 95       	ret
TPTR	GoToTask = Idle;		// Инициализируем переменные

	Disable_Interrupt				// Запрещаем прерывания!!!
	GoToTask = TaskQueue[0];		// Хватаем первое значение из очереди

	if (GoToTask==Idle) 			// Если там пусто
 978:	20 e0       	ldi	r18, 0x00	; 0
 97a:	30 e0       	ldi	r19, 0x00	; 0
 97c:	c9 01       	movw	r24, r18
 97e:	01 96       	adiw	r24, 0x01	; 1
	}
	else
	{
		for(index=0;index!=TaskQueueSize;index++)	// В противном случае сдвигаем всю очередь
		{
			TaskQueue[index]=TaskQueue[index+1];
 980:	dc 01       	movw	r26, r24
 982:	aa 0f       	add	r26, r26
 984:	bb 1f       	adc	r27, r27
 986:	aa 5b       	subi	r26, 0xBA	; 186
 988:	be 4f       	sbci	r27, 0xFE	; 254
 98a:	4d 91       	ld	r20, X+
 98c:	5c 91       	ld	r21, X
 98e:	d9 01       	movw	r26, r18
 990:	aa 0f       	add	r26, r26
 992:	bb 1f       	adc	r27, r27
 994:	aa 5b       	subi	r26, 0xBA	; 186
 996:	be 4f       	sbci	r27, 0xFE	; 254
 998:	11 96       	adiw	r26, 0x01	; 1
 99a:	5c 93       	st	X, r21
 99c:	4e 93       	st	-X, r20
		Enable_Interrupt			// Разрешаем прерывания
		(Idle)(); 					// Переходим на обработку пустого цикла
	}
	else
	{
		for(index=0;index!=TaskQueueSize;index++)	// В противном случае сдвигаем всю очередь
 99e:	84 31       	cpi	r24, 0x14	; 20
 9a0:	91 05       	cpc	r25, r1
 9a2:	11 f0       	breq	.+4      	; 0x9a8 <TaskManager+0x46>
 9a4:	9c 01       	movw	r18, r24
 9a6:	ea cf       	rjmp	.-44     	; 0x97c <TaskManager+0x1a>
		{
			TaskQueue[index]=TaskQueue[index+1];
		}

		TaskQueue[TaskQueueSize]= Idle;				// В последнюю запись пихаем затычку
 9a8:	86 e6       	ldi	r24, 0x66	; 102
 9aa:	94 e0       	ldi	r25, 0x04	; 4
 9ac:	90 93 6f 01 	sts	0x016F, r25
 9b0:	80 93 6e 01 	sts	0x016E, r24

		Enable_Interrupt							// Разрешаем прерывания
 9b4:	78 94       	sei
		(GoToTask)();								// Переходим к задаче
 9b6:	09 95       	icall
 9b8:	08 95       	ret

000009ba <__vector_11>:
	}
}

//RTOS Interrupt
ISR(RTOS_ISR)
{
 9ba:	1f 92       	push	r1
 9bc:	0f 92       	push	r0
 9be:	0f b6       	in	r0, 0x3f	; 63
 9c0:	0f 92       	push	r0
 9c2:	11 24       	eor	r1, r1
 9c4:	ef 92       	push	r14
 9c6:	ff 92       	push	r15
 9c8:	0f 93       	push	r16
 9ca:	1f 93       	push	r17
 9cc:	2f 93       	push	r18
 9ce:	3f 93       	push	r19
 9d0:	4f 93       	push	r20
 9d2:	5f 93       	push	r21
 9d4:	6f 93       	push	r22
 9d6:	7f 93       	push	r23
 9d8:	8f 93       	push	r24
 9da:	9f 93       	push	r25
 9dc:	af 93       	push	r26
 9de:	bf 93       	push	r27
 9e0:	cf 93       	push	r28
 9e2:	df 93       	push	r29
 9e4:	ef 93       	push	r30
 9e6:	ff 93       	push	r31
 9e8:	c0 e0       	ldi	r28, 0x00	; 0
 9ea:	d0 e0       	ldi	r29, 0x00	; 0
			MainTimer[index].Time --;						// Уменьшаем число в ячейке если не конец.
		}
		else
		{
			SetTask(MainTimer[index].GoToTask);				// Дощелкали до нуля? Пихаем в очередь задачу
			MainTimer[index].GoToTask = Idle;				// А в ячейку пишем затычку
 9ec:	06 e6       	ldi	r16, 0x66	; 102
 9ee:	14 e0       	ldi	r17, 0x04	; 4
inline void TimerService(void){
u08 index;

	for(index=0;index!=MainTimerQueueSize+1;index++)		// Прочесываем очередь таймеров
	{
		if(MainTimer[index].GoToTask == Idle) continue;		// Если нашли пустышку - щелкаем следующую итерацию
 9f0:	fe 01       	movw	r30, r28
 9f2:	de 01       	movw	r26, r28
 9f4:	aa 0f       	add	r26, r26
 9f6:	bb 1f       	adc	r27, r27
 9f8:	aa 0f       	add	r26, r26
 9fa:	bb 1f       	adc	r27, r27
 9fc:	aa 5f       	subi	r26, 0xFA	; 250
 9fe:	be 4f       	sbci	r27, 0xFE	; 254
 a00:	8d 91       	ld	r24, X+
 a02:	9c 91       	ld	r25, X
 a04:	86 56       	subi	r24, 0x66	; 102
 a06:	94 40       	sbci	r25, 0x04	; 4
 a08:	21 f1       	breq	.+72     	; 0xa52 <__vector_11+0x98>

		if(MainTimer[index].Time !=1)						// Если таймер не выщелкал, то щелкаем еще раз. 
 a0a:	de 01       	movw	r26, r28
 a0c:	aa 0f       	add	r26, r26
 a0e:	bb 1f       	adc	r27, r27
 a10:	aa 0f       	add	r26, r26
 a12:	bb 1f       	adc	r27, r27
 a14:	aa 5f       	subi	r26, 0xFA	; 250
 a16:	be 4f       	sbci	r27, 0xFE	; 254
 a18:	12 96       	adiw	r26, 0x02	; 2
 a1a:	8d 91       	ld	r24, X+
 a1c:	9c 91       	ld	r25, X
 a1e:	13 97       	sbiw	r26, 0x03	; 3
 a20:	01 97       	sbiw	r24, 0x01	; 1
 a22:	39 f0       	breq	.+14     	; 0xa32 <__vector_11+0x78>
		{												// To Do: Вычислить по тактам, что лучше !=1 или !=0. 
			MainTimer[index].Time --;						// Уменьшаем число в ячейке если не конец.
 a24:	fd 01       	movw	r30, r26
 a26:	82 81       	ldd	r24, Z+2	; 0x02
 a28:	93 81       	ldd	r25, Z+3	; 0x03
 a2a:	01 97       	sbiw	r24, 0x01	; 1
 a2c:	93 83       	std	Z+3, r25	; 0x03
 a2e:	82 83       	std	Z+2, r24	; 0x02
 a30:	10 c0       	rjmp	.+32     	; 0xa52 <__vector_11+0x98>
		}
		else
		{
			SetTask(MainTimer[index].GoToTask);				// Дощелкали до нуля? Пихаем в очередь задачу
 a32:	ee 0f       	add	r30, r30
 a34:	ff 1f       	adc	r31, r31
 a36:	ee 0f       	add	r30, r30
 a38:	ff 1f       	adc	r31, r31
 a3a:	cf 01       	movw	r24, r30
 a3c:	8a 5f       	subi	r24, 0xFA	; 250
 a3e:	9e 4f       	sbci	r25, 0xFE	; 254
 a40:	7c 01       	movw	r14, r24
 a42:	fc 01       	movw	r30, r24
 a44:	80 81       	ld	r24, Z
 a46:	91 81       	ldd	r25, Z+1	; 0x01
 a48:	0e 94 8a 04 	call	0x914	; 0x914 <SetTask>
			MainTimer[index].GoToTask = Idle;				// А в ячейку пишем затычку
 a4c:	f7 01       	movw	r30, r14
 a4e:	11 83       	std	Z+1, r17	; 0x01
 a50:	00 83       	st	Z, r16
 a52:	21 96       	adiw	r28, 0x01	; 1
В этом случае не забыть добавить проверку прерывания. 
*/
inline void TimerService(void){
u08 index;

	for(index=0;index!=MainTimerQueueSize+1;index++)		// Прочесываем очередь таймеров
 a54:	c0 31       	cpi	r28, 0x10	; 16
 a56:	d1 05       	cpc	r29, r1
 a58:	59 f6       	brne	.-106    	; 0x9f0 <__vector_11+0x36>

//RTOS Interrupt
ISR(RTOS_ISR)
{
	TimerService();						// Прерывание ядра диспетчера
}
 a5a:	ff 91       	pop	r31
 a5c:	ef 91       	pop	r30
 a5e:	df 91       	pop	r29
 a60:	cf 91       	pop	r28
 a62:	bf 91       	pop	r27
 a64:	af 91       	pop	r26
 a66:	9f 91       	pop	r25
 a68:	8f 91       	pop	r24
 a6a:	7f 91       	pop	r23
 a6c:	6f 91       	pop	r22
 a6e:	5f 91       	pop	r21
 a70:	4f 91       	pop	r20
 a72:	3f 91       	pop	r19
 a74:	2f 91       	pop	r18
 a76:	1f 91       	pop	r17
 a78:	0f 91       	pop	r16
 a7a:	ff 90       	pop	r15
 a7c:	ef 90       	pop	r14
 a7e:	0f 90       	pop	r0
 a80:	0f be       	out	0x3f, r0	; 63
 a82:	0f 90       	pop	r0
 a84:	1f 90       	pop	r1
 a86:	18 95       	reti

00000a88 <RunRTOS>:
	OCR2A  = LO(TimerDivider); 			// Установить значение в регистр сравнения

	TIMSK2 = _BV(OCIE2A);				// Разрешаем прерывание RTOS - запуск ОС
*/

	TCCR1B |=  _BV(WGM12) | (0<<CS12) | (1<<CS11) | (1<<CS10);		// PRESCAler 64
 a88:	e1 e8       	ldi	r30, 0x81	; 129
 a8a:	f0 e0       	ldi	r31, 0x00	; 0
 a8c:	80 81       	ld	r24, Z
 a8e:	8b 60       	ori	r24, 0x0B	; 11
 a90:	80 83       	st	Z, r24
	OCR1A = 250; /* Magical constant - 1 ms */
 a92:	8a ef       	ldi	r24, 0xFA	; 250
 a94:	90 e0       	ldi	r25, 0x00	; 0
 a96:	90 93 89 00 	sts	0x0089, r25
 a9a:	80 93 88 00 	sts	0x0088, r24
	TIMSK1 |= _BV(OCIE1A);
 a9e:	ef e6       	ldi	r30, 0x6F	; 111
 aa0:	f0 e0       	ldi	r31, 0x00	; 0
 aa2:	80 81       	ld	r24, Z
 aa4:	82 60       	ori	r24, 0x02	; 2
 aa6:	80 83       	st	Z, r24
	
	Enable_Interrupt;
 aa8:	78 94       	sei
 aaa:	08 95       	ret

00000aac <InitAll>:
{

	// 1- output, 0-input
	// Port B
	// 0 - ~SD_Select, 1 - E_Reset, 2 - E_Select, 3 - MOSI, 4 - MISO, 5 - SCK
	PORTB = _BV(PORTB0) | _BV(PORTB1) | _BV(PORTB2) | _BV(PORTB3) | _BV(PORTB5);
 aac:	8f e2       	ldi	r24, 0x2F	; 47
 aae:	85 b9       	out	0x05, r24	; 5
	DDRB = _BV(PORTB0) | _BV(PORTB1) | _BV(PORTB2) | _BV(PORTB3) | _BV(PORTB5);
 ab0:	84 b9       	out	0x04, r24	; 4

	SPCR = (1<<SPE)|(1<<MSTR);								// enable SPI, master mode 0
 ab2:	80 e5       	ldi	r24, 0x50	; 80
 ab4:	8c bd       	out	0x2c, r24	; 44
	SPSR |= (1<<SPI2X);										// set the clock rate fck/2
 ab6:	8d b5       	in	r24, 0x2d	; 45
 ab8:	81 60       	ori	r24, 0x01	; 1
 aba:	8d bd       	out	0x2d, r24	; 45

	//
	// PORT C
	// 0-3 - выходные оптроны, 4 - SDA, 5 - SCL, 6 -SPI0 (~CS для spi на разъеме) , 7 - NC
	//
	PORTC = _BV(PORTC4) | _BV(PORTC5) | _BV(PORTC6);
 abc:	80 e7       	ldi	r24, 0x70	; 112
 abe:	88 b9       	out	0x08, r24	; 8
	DDRC = _BV(PORTC0) |_BV(PORTC1) |_BV(PORTC2) |_BV(PORTC3) |_BV(PORTC4) | _BV(PORTC5) | _BV(PORTC6);
 ac0:	8f e7       	ldi	r24, 0x7F	; 127
 ac2:	87 b9       	out	0x07, r24	; 7

	// Port D
	// 0 -RxD, 1 - TxD, 2 - INT0 (клавиатура), 3 - INT1 (входные датчики), 4 - 485_RW (~RE/DE), 5,6 -reserve, 7 - SD_DETECT
	//
	PORTD = _BV(PORTD1) | _BV(PORTD4);
 ac4:	82 e1       	ldi	r24, 0x12	; 18
 ac6:	8b b9       	out	0x0b, r24	; 11
	DDRD = _BV(PORTD0) | _BV(PORTD4) | _BV(PORTD5) | _BV(PORTD6);
 ac8:	81 e7       	ldi	r24, 0x71	; 113
 aca:	8a b9       	out	0x0a, r24	; 10
	
	// Настройка режима мастера
	i2c_PORT |= 1<<i2c_SCL|1<<i2c_SDA;			// Включим подтяжку на ноги, вдруг юзер на резисторы пожмотился
 acc:	88 b1       	in	r24, 0x08	; 8
 ace:	80 63       	ori	r24, 0x30	; 48
 ad0:	88 b9       	out	0x08, r24	; 8
	i2c_DDR &=~(1<<i2c_SCL|1<<i2c_SDA);
 ad2:	87 b1       	in	r24, 0x07	; 7
 ad4:	8f 7c       	andi	r24, 0xCF	; 207
 ad6:	87 b9       	out	0x07, r24	; 7

	TWBR = 0xFF;         						// Настроим битрейт
 ad8:	8f ef       	ldi	r24, 0xFF	; 255
 ada:	80 93 b8 00 	sts	0x00B8, r24
	TWSR = 0x03;
 ade:	83 e0       	ldi	r24, 0x03	; 3
 ae0:	80 93 b9 00 	sts	0x00B9, r24
 ae4:	08 95       	ret

00000ae6 <__tablejump2__>:
 ae6:	ee 0f       	add	r30, r30
 ae8:	ff 1f       	adc	r31, r31

00000aea <__tablejump__>:
 aea:	05 90       	lpm	r0, Z+
 aec:	f4 91       	lpm	r31, Z
 aee:	e0 2d       	mov	r30, r0
 af0:	09 94       	ijmp

00000af2 <_exit>:
 af2:	f8 94       	cli

00000af4 <__stop_program>:
 af4:	ff cf       	rjmp	.-2      	; 0xaf4 <__stop_program>
